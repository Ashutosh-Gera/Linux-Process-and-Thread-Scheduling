#!/bin/sh
gh repo clone yourGithubUsername/repoName
wget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.19.8.tar.xz
unxz linux-5.19.8.tar.xz
tar -xvf linux-5.19.8.tar
chmod -R $USER:$USER linux-5.19.8
cd linux-5.19.8
make mrproper
cp ../repoName/config-rev-9-gold .config
make nconfig
make -j$(nproc)
make modules
make modules_install
sudo cp -v arch/x86/boot/bzImage /boot/vmlinuz-linux519
sudo cp /etc/mkinitcpio.d/linux.preset /etc/mkinitcpio.d/linux519.preset

sudo vim /etc/mkinitcpio.d/linux519.preset
and change all instances of linux to linux519

then iske baad run
sudo mkinitcpio -p linux519
sudo cp System.map /boot/System.map-linux519
ln -sf /boot/System.map-linux519 /boot/System.map
sudo grub-mkconfig -o /boot/grub/grub.cfg

after this, edit the grub configuration file using
sudo vim /etc/default/grub
and change GRUB_DEFAULT wali line to this:
GRUB_DEFAULT="Advanced options for Artix Linux>Artix Linux, with Linux 5.19.8"
then update grub using the following command
sudo grub-mkconfig -o /boot/grub/grub.cfg
sudo reboot
